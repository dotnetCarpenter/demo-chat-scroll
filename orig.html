<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js"></script>

<script>
  setInterval(
    function() {
      $('#out').load('load_chat.php');
      var messageBody = document.querySelector('#out');
      out.scrollTop = out.scrollHeight - out.clientHeight;
    }, 3000);
</script>

<script>
  var out = document.getElementById("out");
  var c = 0;
  var add = setInterval(function() {
    // allow 1px inaccuracy by adding 1
    var isScrolledToBottom = out.scrollHeight - out.clientHeight <= out.scrollTop + 1;
    console.log(out.scrollHeight - out.clientHeight, out.scrollTop + 1);
    var newElement = document.createElement("div");
    newElement.innerHTML = c++;
    out.appendChild(newElement);
    // scroll to bottom if isScrolledToBotto
    if (isScrolledToBottom)
      out.scrollTop = out.scrollHeight - out.clientHeight;
  }, 1000);
</script>

<div id="out" style="overflow-y: scroll; height:80px;"></div>
